(this.webpackJsonpmovieweb=this.webpackJsonpmovieweb||[]).push([[0],{20:function(e,t,a){},33:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),i=a(25),s=a.n(i),r=(a(33),a(2)),o=a(8),d=a(10),l=a(9),j=function(e,t){switch(t.type){case"ADD_MOVIE_TO_LIKELIST":return Object(l.a)(Object(l.a)({},e),{},{likeList:[t.payload].concat(Object(d.a)(e.likeList)),discardList:e.discardList.filter((function(e){return e.id!==t.payload.id}))});case"ADD_MOVIE_TO_DISCARD":return Object(l.a)(Object(l.a)({},e),{},{discardList:[t.payload].concat(Object(d.a)(e.discardList)),likeList:e.likeList.filter((function(e){return e.poster_path!==t.payload.poster_path}))});case"DELETE_LIKE_MOVIE":return Object(l.a)(Object(l.a)({},e),{},{likeList:e.likeList.filter((function(e){return e.poster_path!==t.payload.poster_path}))});case"DELETE_DISCARD_MOVIE":return Object(l.a)(Object(l.a)({},e),{},{discardList:e.discardList.filter((function(e){return e.id!==t.payload.id}))});default:return e}},b=a(0),u={likeList:localStorage.getItem("likeList")?JSON.parse(localStorage.getItem("likeList")):[],discardList:localStorage.getItem("discardList")?JSON.parse(localStorage.getItem("discardList")):[]},v=Object(c.createContext)(u),m=function(e){var t=Object(c.useReducer)(j,u),a=Object(o.a)(t,2),n=a[0],i=a[1];Object(c.useEffect)((function(){localStorage.setItem("likeList",JSON.stringify(n.likeList)),localStorage.setItem("discardList",JSON.stringify(n.discardList))}),[n]);return Object(b.jsx)(v.Provider,{value:{likeList:n.likeList,discardList:n.discardList,addMovieToLikelist:function(e){i({type:"ADD_MOVIE_TO_LIKELIST",payload:e})},addMovieToDiscard:function(e){i({type:"ADD_MOVIE_TO_DISCARD",payload:e})},deleteLike:function(e){i({type:"DELETE_LIKE_MOVIE",payload:e})},deleteDiscard:function(e){i({type:"DELETE_DISCARD_MOVIE",payload:e})}},children:e.children})};a(20);function O(e,t){return t.some((function(t){return e.id===t.id}))}function h(e,t){return t.some((function(t){return e.id===t.id}))}var p=a(5);function x(e){var t=e.movie,a=Object(c.useContext)(v),n=a.deleteLike,i=a.deleteDiscard,s=a.addMovieToLikelist,r=a.addMovieToDiscard,o=a.likeList,d=a.discardList,l={backgroundImage:"url(https://image.tmdb.org/t/p/w500"+t.poster_path+")"};return Object(b.jsxs)("div",{className:"each",children:[Object(b.jsx)(p.c,{to:"/movies/".concat(t.id),children:Object(b.jsx)("div",{className:"img",style:l,children:" "})}),Object(b.jsxs)("div",{className:"button_blow",children:[!0===O(t,o)?Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)("div",{className:"trash",onClick:function(){return n(t)}}),Object(b.jsx)("div",{className:"discard",onClick:function(){return r(t)}})]}):"",!0===h(t,d)?Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)("div",{className:"trash",onClick:function(){return i(t)}}),Object(b.jsx)("div",{className:"heart",onClick:function(){return s(t)}})]}):"",Object(b.jsx)("div",{className:"dots"})]})]})}var f=function(){var e=Object(c.useContext)(v).likeList;return Object(b.jsxs)("div",{className:"page",children:[Object(b.jsx)("p",{className:"subtitle ",children:"Movie List of Liked"}),Object(b.jsx)("div",{className:"container",children:e.map((function(e){return Object(b.jsx)(x,{movie:e},e.id)}))})]})},g=a(19),N=a.n(g),k=a(28),L=function(e){var t=Object(c.useContext)(v),a=t.addMovieToLikelist,n=!!t.likeList.find((function(t){return t.id===e.data.id})),i=Object(c.useContext)(v),s=i.addMovieToDiscard,r=!!i.discardList.find((function(t){return t.id===e.data.id}));return Object(b.jsxs)("div",{className:"button",children:[Object(b.jsx)("button",{disabled:n,onClick:function(){a(e.data)},className:"like",children:n?"Liked":"Like"}),Object(b.jsx)("button",{disabled:r,onClick:function(){s(e.data)},className:"block",children:"Block"})]})},_=function(e){var t;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"movieCard",children:[Object(b.jsx)(p.b,{to:"/movies/".concat(e.data.id),children:Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/w500"+e.data.poster_path,alt:e.data.title})}),Object(b.jsx)("div",{className:"score_count",children:Object(b.jsxs)("div",{children:["Score: ",e.data.vote_average," | Count: ",e.data.vote_count]})}),Object(b.jsx)(L,{data:e.data}),Object(b.jsx)("span",{className:"movie-title",children:(t=e.data.title,t.length>25?"".concat(t.substring(0,25),"..."):t)}),Object(b.jsx)("span",{className:"release-date",children:e.data.release_date})]})})},C=function(e){return Object(b.jsx)("div",{className:"container",children:e.children})},D=function(e){var t=1===e.currentPage;return Object(b.jsxs)("div",{className:"pagination-button",children:[Object(b.jsx)("button",{className:t?"prev dispable":"prev",disabled:t,onClick:function(){return e.newPage("previous")},children:"Prev"}),Object(b.jsxs)("div",{children:["PAGE ",e.currentPage]}),Object(b.jsx)("button",{className:"next",onClick:function(){return e.newPage("next")},children:"Next"})]})},E=function(){return Object(b.jsx)("div",{className:"loader",children:"Loading Movies..."})},y=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)(!1),s=Object(o.a)(i,2),r=s[0],l=s[1],j=Object(c.useState)(1),u=Object(o.a)(j,2),m=u[0],O=u[1],h=Object(c.useContext)(v).discardList,p=Object(c.useState)("asc"),x=Object(o.a)(p,2),f=x[0],g=x[1],L="https://api.themoviedb.org/3/movie/popular?api_key=".concat("d9a2a89e1dbe265a06a281f6ad70bbb8","&page=").concat(m),y=function(){var e=Object(k.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,fetch(L);case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,l(!1),console.log(a),S(a.results);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){var t=e.filter((function(e){return!h.some((function(t){return e.id===t.id}))}));n(t)};Object(c.useEffect)((function(){y()}),[m,h]);return Object(b.jsxs)("div",{children:[Object(b.jsx)(D,{data:a,currentPage:m,newPage:function(e){"next"===e?O((function(e){return e+1})):"previous"===e&&1!==m&&O((function(e){return e-1}))}}),Object(b.jsxs)("div",{id:"btn-group-home",className:"pagination-button",children:[Object(b.jsx)("button",{className:"btn btn-outline-secondary me-2",onClick:function(){var e=Object(d.a)(a).sort((function(e,t){return"asc"===f?(g("des"),e.title.localeCompare(t.title)):(g("asc"),t.title.localeCompare(e.title))}));n(e)},children:"asc"===f?"Title ascending":"Title descending"}),Object(b.jsx)("button",{className:"btn btn-outline-secondary me-2",onClick:function(){var e=Object(d.a)(a).sort((function(e,t){return"asc"===f?(g("des"),e.release_date>t.release_date?1:-1):(g("asc"),t.release_date<e.release_date?-1:1)}));n(e)},children:"asc"===f?"Date ascending":"Date descending"}),Object(b.jsx)("button",{className:"btn btn-outline-secondary me-2",onClick:function(){var e=Object(d.a)(a).sort((function(e,t){return"asc"===f?(g("des"),e.vote_average-t.vote_average):(g("asc"),t.vote_average-e.vote_average)}));n(e)},children:"asc"===f?"Score ascending":"Score descending"}),Object(b.jsx)("button",{className:"btn btn-outline-secondary me-2",onClick:function(){var e=Object(d.a)(a).sort((function(e,t){return"asc"===f?(g("des"),e.vote_count-t.vote_count):(g("asc"),t.vote_count-e.vote_count)}));n(e)},children:"asc"===f?"Count ascending":"Count descending"})]}),Object(b.jsx)(C,{className:"container",children:r?Object(b.jsx)(E,{}):a.map((function(e){return Object(b.jsx)(_,{data:e},e.id)}))})]})},S=function(){var e=Object(c.useContext)(v).discardList;return Object(b.jsxs)("div",{className:"page",children:[Object(b.jsx)("p",{className:"subtitle",children:"Movie List of Discard"}),Object(b.jsx)("div",{className:"container",children:e.map((function(e){return Object(b.jsx)(x,{movie:e},e.id)}))})]})},I=function(){return Object(b.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(b.jsx)(p.b,{className:"navbar-brand",to:"/",children:Object(b.jsx)("i",{className:"bi bi-camera-reels ms-4"})}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(b.jsxs)("div",{className:"navbar-nav ms-4 me-auto mb-2 mb-lg-0",children:[Object(b.jsx)(p.c,{className:"nav-item nav-link",to:"/",children:"Home"}),Object(b.jsx)(p.c,{className:"nav-item nav-link",to:"/movies",children:"Movies"}),Object(b.jsx)(p.c,{className:"nav-item nav-link",to:"/likelist",children:"Like"}),Object(b.jsx)(p.c,{className:"nav-item nav-link",to:"/discardlist",children:"Discard"})]})})]})},M=function(){return Object(b.jsx)("h1",{children:"Not Found"})},T=(a(41),function(e){var t=Object(c.useState)(),a=Object(o.a)(t,2),n=a[0],i=a[1],s=e.match.params.id;if(Object(c.useEffect)((function(){var e=!0;return fetch("https://api.themoviedb.org/3/movie/".concat(s,"?api_key=d9a2a89e1dbe265a06a281f6ad70bbb8&language=en-US")).then((function(e){return e.json()})).then((function(t){console.log(t),e&&i(t)})).catch((function(e){return console.log(e)})),function(){e=!1}}),[s]),!n)return null;return Object(b.jsxs)("div",{className:"details",children:[Object(b.jsx)("i",{className:"bi bi-x-circle-fill",onClick:function(){e.history.push("/movies")}}),Object(b.jsx)("img",{className:"backdrop",src:"https://image.tmdb.org/t/p/w1280".concat(n.backdrop_path),alt:""}),Object(b.jsx)("div",{className:"info-container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-4",children:Object(b.jsx)("img",{className:"movie-image",src:"https://image.tmdb.org/t/p/w500".concat(n.poster_path),alt:""})}),Object(b.jsxs)("div",{className:"movie-description col",children:[Object(b.jsx)("h1",{className:"movie-title-white",children:n.original_title}),Object(b.jsx)("div",{className:"moive-date",children:n.release_date}),Object(b.jsx)("div",{className:"movie-genre",children:n.genres.map((function(e){return Object(b.jsx)("span",{id:e.name.split(" ").join(""),children:e.name})}))}),Object(b.jsx)("div",{className:"movie-overview",children:n.overview}),Object(b.jsxs)("div",{className:"movie-vote",children:["Score: ","".concat(n.vote_average," / 10")]})]})]})})]})});a(42);var w=function(){return Object(b.jsxs)(m,{children:[Object(b.jsx)(I,{}),Object(b.jsx)("main",{children:Object(b.jsxs)(r.d,{children:[Object(b.jsx)(r.b,{path:"/movies/:id",component:T}),Object(b.jsx)(r.b,{path:"/movies",component:y}),Object(b.jsx)(r.b,{path:"/likelist",component:f}),Object(b.jsx)(r.b,{path:"/discardlist",component:S}),Object(b.jsx)(r.b,{path:"/not-found",component:M}),Object(b.jsx)(r.a,{from:"/",exact:!0,to:"/movies"}),Object(b.jsx)(r.a,{to:"/not-found"})]})})]})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,66)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),i(e),s(e)}))};a(43),a(44);s.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(p.a,{children:Object(b.jsx)(w,{})})}),document.getElementById("root")),A()}},[[65,1,2]]]);
//# sourceMappingURL=main.a5900c67.chunk.js.map